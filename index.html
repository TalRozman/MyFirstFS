<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body{
            background-color: bisque;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif
        }
        button{
            background-color: aquamarine;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            font-size: large;
        }
    </style>

</head>

<body>
    user-name: <input id="uName"><br>
    email: <input id="email"><br>
    <button onclick="addData()">Add user</button><br>
    
    <div id="action"></div>
    <div id="display"></div>



    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

    <script>
        const MY_SERVER = "https://jsonplaceholder.typicode.com/users/"

        const loadData = async() =>{
            const res = await axios.get(MY_SERVER)
            display.innerHTML = res.data.map(user => `<h1> <button onclick="delData(${user.id})">${user.id}</button> <button onclick="updData(${user.id})">Update data</button><br> Name: ${user.name}<br> User Name: ${user.username}<br>Email: ${user.email}</h1><hr>`).join("")
        }
        loadData()

        const addData=() => {
        axios.post(MY_SERVER,{username:uName.value,email:email.value}).then((res) => action.innerHTML = `<h1>User Added</h1>`)
        }

        const delData=(id) =>{
            axios.delete(MY_SERVER+id).then((res) => action.innerHTML = `<h1>User deleted</h1>`)
        }

        const updData = async(id) =>
        {
            await axios.patch(MY_SERVER+id,{username:uName.value,email:email.value}).then((res) => action.innerHTML = `<h1>User updated</h1>`)
        }
    </script>
</body>
</html>
